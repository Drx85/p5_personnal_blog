<!DOCTYPE html>

<html lang="fr">

<head>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
		  crossorigin="anonymous">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" charset="UTF-8">
	<link rel="stylesheet" href="css/base.css"/>
	
	<title>Bienvenue sur mon blog !</title>
	{% block head %}
	{% endblock head %}
</head>

<body>

<nav class="navbar navbar-expand bg-dark px-2 mb-3">
	<ul class="navbar-nav">
		<li class="nav-item">
			<a class="nav-link" href="index.php">Accueil</a>
		</li>
		<li class="nav-item">
			<a class="nav-link" href="index.php?controller=post&action=index">Blog</a>
		</li>
		
		{% if session.user.role is same as ('admin') or session.user.role is same as ('publisher') %}
			<li>
				<a class="nav-link" href="index.php?controller=comment&action=show_pending">Commentaires en attente de validation</a>
			</li>
		{% endif %}
	</ul>
	
	<ul class="navbar-nav ms-auto">
		{% if disconnected is not defined and session.user or user.id is defined %}
			<span class="navbar-text text-white-50">
      			Connecté en tant que {{ session.user.pseudo }}{{ user.pseudo }} ({{ session.user.role }}{{ user.role }})
    		</span>
			<li>
				<a class="nav-link" href="index.php?controller=account&action=disconnect">Se déconnecter</a>
			</li>
		{% else %}
			<li>
				<a class="nav-link" href="index.php?controller=account&action=show_register">Créer un compte</a>
			</li>
			<li>
				<a class="nav-link" href="index.php?controller=account&action=show_connection">Se connecter</a>
			</li>
		{% endif %}
	</ul>
</nav>

<h1 class="mb-5">
	{% block title %}
	{% endblock title %}
</h1>

{% if message %}
	<p class="text-info">{{ message|raw }}</p>
{% endif %}

{% block content %}

{% endblock content %}


<footer class="mt-4">
	{% if disconnected is not defined and session.user or user.id is defined %}
		Connecté en tant que {{ session.user.pseudo }}{{ user.pseudo }} ({{ session.user.role }}{{ user.role }})</br>
		<a href="index.php?controller=account&action=disconnect">Se déconnecter</a>
	{% else %}
		<a href="index.php?controller=account&action=show_register">Créer un compte</a></br >
		<a href="index.php?controller=account&action=show_connection">Se connecter</a></br>
	{% endif %}
</footer>

</body>
</html>

